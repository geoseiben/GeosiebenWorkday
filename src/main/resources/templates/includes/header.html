<header th:fragment="header"
        class="bg-white border-b sticky top-0 z-[1000] shadow-sm"
        style="font-family: 'Inter', system-ui, -apple-system, sans-serif; overflow: visible !important;">
    <div class="w-full mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16 items-center">

            <div class="flex items-center gap-10">
                <div class="flex-shrink-0 flex items-center gap-2 cursor-pointer" onclick="window.location.href='/dashboard'">
                    <div class="w-10 h-10 bg-[#4f46e5] rounded-xl flex items-center justify-center shadow-lg transition-transform hover:scale-105">
                        <span class="text-white font-black text-lg tracking-tighter">G7</span>
                    </div>
                    <a href="/dashboard" class="no-underline">
                        <span class="text-xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-gray-600 hidden sm:block tracking-tight">
                            Geosieben
                        </span>
                    </a>
                </div>

                <nav class="hidden md:flex items-center">
                    <div sec:authorize="hasAnyAuthority('admin')" class="relative group h-16 flex items-center">
                        <button class="flex items-center gap-1 px-3 py-2 text-sm font-semibold text-gray-600 group-hover:text-[#4f46e5] transition-colors">
                            Admin
                            <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="hidden group-hover:block absolute top-[60px] left-0 w-48 bg-white border border-gray-100 rounded-xl shadow-xl p-2 z-[9999]">
                            <a href="/admin/addemployee" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-[#4f46e5] rounded-lg no-underline">Add Employee</a>
                            <a href="/admin/activeEmployees" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-[#4f46e5] rounded-lg no-underline">Active Employees</a>
                            <button onclick="showView('reports')" class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-[#4f46e5] rounded-lg">Real-time Feed</button>
                        </div>
                    </div>

                    <div sec:authorize="hasAnyAuthority('admin','user','hr')" class="relative group h-16 flex items-center">
                        <button class="flex items-center gap-1 px-3 py-2 text-sm font-semibold text-gray-600 group-hover:text-[#4f46e5] transition-colors">
                            Leaves
                            <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="hidden group-hover:block absolute top-[60px] left-0 w-48 bg-white border border-gray-100 rounded-xl shadow-xl p-2 z-[9999]">
                            <a href="/leaves/apply" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-[#4f46e5] rounded-lg no-underline">Apply Leave</a>
                            <a sec:authorize="hasAnyAuthority('admin')" href="/admin/pendingLeaves" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-[#4f46e5] rounded-lg no-underline">Leave Requests</a>
                        </div>
                    </div>

                    <div class="relative group h-16 flex items-center">
                        <button class="flex items-center gap-1 px-3 py-2 text-sm font-semibold text-gray-600 group-hover:text-[#4f46e5] transition-colors">
                            Separation
                            <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="hidden group-hover:block absolute top-[60px] left-0 w-48 bg-white border border-gray-100 rounded-xl shadow-xl p-2 z-[9999]">
                            <button onclick="showView('data')" class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-[#4f46e5] rounded-lg">All Records</button>
                            <button class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-[#4f46e5] rounded-lg">Archives</button>
                            <button class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-[#4f46e5] rounded-lg">Export Data</button>
                        </div>
                    </div>

                    <div class="relative group h-16 flex items-center">
                        <button class="flex items-center gap-1 px-3 py-2 text-sm font-semibold text-gray-600 group-hover:text-[#4f46e5] transition-colors">
                            Config
                            <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="hidden group-hover:block absolute top-[60px] left-0 w-56 bg-white border border-gray-100 rounded-xl shadow-xl p-2 z-[9999]">
                            <button onclick="showView('settings')" class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-[#4f46e5] rounded-lg">App Settings</button>
                            <button class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-[#4f46e5] rounded-lg">Security & Privacy</button>
                            <div class="border-t border-gray-100 my-1"></div>
                            <form th:action="@{/logout}" method="post">
                                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                                <button type="submit" class="w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg">
                                    Sign <Out></Out>
                                </button>
                            </form>
                        </div>
                    </div>
                </nav>
            </div>

            <div class="flex items-center gap-2">
                <button onclick="showView('profile')" class="flex items-center gap-2 pl-2 pr-1 py-1 hover:bg-gray-100 rounded-full transition">
                    <img class="h-8 w-8 rounded-full border-2 border-indigo-100"
                         src="https://ui-avatars.com/api/?name=User&background=6366f1&color=fff"
                         alt="User">
                </button>
            </div>
        </div>
    </div>
</header>